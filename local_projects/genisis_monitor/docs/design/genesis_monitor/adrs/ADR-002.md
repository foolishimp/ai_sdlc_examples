# ADR-002: SSE Over WebSocket for Real-Time Push

**Status**: Accepted
**Date**: 2026-02-21
**Feature**: REQ-F-GMON-001
**Drives**: REQ-F-STREAM-001

---

## Context

The dashboard needs real-time updates when `.ai-workspace/` data changes. The communication is unidirectional: server pushes to browser. Options: WebSocket, SSE, or polling.

## Decision

Use Server-Sent Events (SSE) via the `sse-starlette` library. The server pushes events over a single HTTP connection; HTMX subscribes via `hx-ext="sse"`.

## Alternatives Considered

1. **WebSocket**: Bidirectional, but we only need serverâ†’client. More complex protocol, doesn't auto-reconnect, requires explicit ping/pong.
2. **Polling**: Simple but wastes bandwidth, introduces latency proportional to poll interval, and doesn't scale with many projects.

## Consequences

**Positive**:
- SSE auto-reconnects on connection loss (browser built-in)
- Works through HTTP proxies and load balancers
- Native HTMX support via `hx-ext="sse"`
- Simpler server implementation than WebSocket

**Negative**:
- Unidirectional only (sufficient for this use case)
- Limited to ~6 concurrent connections per domain in HTTP/1.1 (not a concern for a local dev tool)
