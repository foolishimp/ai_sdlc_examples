# ADR-003: HTMX for Reactive UI Without JS Framework

**Status**: Accepted
**Date**: 2026-02-21
**Feature**: REQ-F-GMON-001
**Drives**: REQ-F-STREAM-002, REQ-NFR-004

---

## Context

The dashboard needs partial page updates driven by SSE events. Options: React/Vue SPA, vanilla JavaScript, or HTMX.

## Decision

Use HTMX (14KB library, CDN-hosted) for all dynamic UI behavior. The server renders HTML fragments via Jinja2; HTMX swaps them into the DOM. No client-side state management, no build step.

## Alternatives Considered

1. **React/Vue SPA**: Full client-side rendering. Requires build tooling (webpack/vite), node_modules, JSON API. Overkill for a dashboard that displays parsed markdown/YAML data.
2. **Vanilla JavaScript**: No dependency but requires manual DOM manipulation, fetch calls, and SSE handling code. More error-prone.

## Consequences

**Positive**:
- Zero build step â€” HTML templates + CDN script tag
- Server is the single source of truth for rendering; no client/server state sync
- Mermaid.js integrates naturally (just render `<pre class="mermaid">` in template)
- HTMX SSE extension handles event subscription declaratively

**Negative**:
- Each UI update requires a server round-trip (acceptable for local dev tool)
- Limited client-side interactivity (expand/collapse can use HTMX or minimal inline JS)
