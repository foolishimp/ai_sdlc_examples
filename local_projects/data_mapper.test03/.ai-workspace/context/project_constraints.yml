# Project Constraints — Context[] Element
# Scaffolded by /aisdlc-init
# Reference: AI_SDLC_ASSET_GRAPH_MODEL.md §5 (Context as Constraint Surface)

---

project:
  name: "cdme"
  version: "0.1.0"

language:
  primary: scala
  version: "3.3"
  secondary:
    - sbt

tools:
  syntax_checker:
    command: "scalac"
    args: ""
    pass_criterion: "exit code 0"

  test_runner:
    command: "sbt"
    args: "test"
    pass_criterion: "exit code 0"

  coverage:
    command: "sbt"
    args: "coverage test coverageReport"
    pass_criterion: "coverage percentage >= $thresholds.test_coverage_minimum"

  linter:
    command: "scalafmt"
    args: "--check ."
    pass_criterion: "exit code 0, zero violations"

  formatter:
    command: "scalafmt"
    args: "--check ."
    pass_criterion: "exit code 0 (already formatted)"

  type_checker:
    command: "scalac"
    args: ""
    pass_criterion: "exit code 0, zero errors"
    required: true  # Scala is strongly typed — type checker is the compiler

thresholds:
  test_coverage_minimum: 0.80
  test_coverage_target: 1.00
  critical_path_coverage: 1.00
  max_function_complexity: 10
  max_function_lines: 50
  max_class_lines: 300
  test_execution_timeout_seconds: 60

standards:
  style_guide: "Scala Style Guide"
  docstrings: required
  type_hints: required  # Scala is strongly typed by nature
  test_structure: "AAA"  # Arrange-Act-Assert

  commit_message_format: |
    {type}: {short summary}

    {detailed description}

    Implements: REQ-*

  req_tag_format:
    code: "Implements: REQ-{TYPE}-{DOMAIN}-{SEQ}"
    tests: "Validates: REQ-{TYPE}-{DOMAIN}-{SEQ}"
    commits: "Implements: REQ-{TYPE}-{DOMAIN}-{SEQ}"

architecture:
  patterns:
    - "Category Theory — schemas as categories, transformations as functors"
    - "Functional paradigm — immutability, pure functions"
    - "Separation of LDM (logical) from PDM (physical)"
  dependency_rules:
    - "LDM layer has zero physical storage dependencies"
    - "PDM depends on LDM, never the reverse"
    - "Morphism executor depends on LDM types"
  forbidden:
    - "Global mutable state"
    - "Implicit type coercions"
    - "Circular dependencies between packages"

evaluator_overrides: {}
